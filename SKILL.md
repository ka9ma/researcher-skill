---
name: nemotron-researcher
description: NVIDIA Nemotron-Personas-Japanデータセット（100万人の日本人ペルソナ）を活用したペルソナベースリサーチ。ペルソナ抽出、ペインポイント分析、コンセプトテストを実行。
---

# Nemotron Researcher

100万人の日本人合成ペルソナを使った、高速ユーザーリサーチスキル。

## できること

| 機能 | 説明 |
|------|------|
| **ペルソナ抽出** | 職業・地域・年齢等でフィルタリングしてペルソナを取得 |
| **ペインポイント分析** | 特定セグメントの課題・ストレスを発見 |
| **コンセプトテスト** | 製品/サービスの受容性を多様なペルソナで評価 |

---

## 重要: HuggingFaceトークンが必要

このスキルはNVIDIA Nemotron-Personas-Japanデータセットにアクセスするため、**HuggingFaceアクセストークン**が必要です。

**スクリプト実行前に必ずユーザーに確認すること:**
1. HuggingFaceアカウントを持っているか
2. アクセストークンを取得済みか（https://huggingface.co/settings/tokens）
3. トークンを教えてもらう

トークンは `--token` オプションで渡します。

---

## ワークフロー1: ペルソナ抽出

### 手順

1. ユーザーから抽出条件を確認:
   - 職業（例: 介護職、エンジニア）
   - 都道府県/地域
   - 年齢範囲
   - サンプル数（デフォルト: 100）

2. スクリプトを実行:
```bash
python scripts/fetch_personas.py \
  --token "ユーザーのHFトークン" \
  --occupation "介護職" \
  --sample 100 \
  --output markdown
```

3. 結果をユーザーに報告（統計サマリー + 代表プロフィール）

### スクリプトオプション

| オプション | 説明 |
|-----------|------|
| `--token` | **必須**: HuggingFaceアクセストークン |
| `--occupation` | 職業キーワード（部分一致） |
| `--prefecture` | 都道府県（完全一致） |
| `--region` | 地域（例: 関東地方） |
| `--age-min/max` | 年齢範囲 |
| `--sex` | 性別（男/女） |
| `--sample` | 取得件数（デフォルト: 100） |
| `--output` | 形式: json/csv/markdown |

---

## ワークフロー2: ペインポイント分析

### 手順

1. **ターゲット定義**: 職業・条件・サンプルサイズを確認

2. **質問設定**: デフォルトまたはカスタム質問
   - デフォルト: 「日々の業務で最もストレスを感じる瞬間は？」

3. **ペルソナ抽出**: スクリプトでターゲットセグメントを取得（JSON形式推奨）
```bash
python scripts/fetch_personas.py \
  --token "ユーザーのHFトークン" \
  --occupation "介護職" \
  --sample 30 \
  --output json --pretty
```

4. **回答シミュレーション（Claude自身が実行）**

### 絶対に守ること

**禁止事項:**
- ❌ ルールベースのスコアリング（`if age < 28: scores["不安"] += 2` のような処理）
- ❌ 事前定義のテンプレートからの選択
- ❌ キーワードマッチングによる回答割り当て
- ❌ 効率化のためのバッチ処理や一括推定

**必須事項:**
- ✅ 各ペルソナ1人ずつ、そのペルソナになりきって回答を生成
- ✅ ペルソナのプロフィール全体を読み、人物像を理解してから回答
- ✅ 30人なら30回、個別に自然言語で回答を考える
- ✅ 同じ属性でも、プロフィールの違いで異なる回答になりうる

### 実行方法

各ペルソナに対して、以下のように**1人ずつ回答を生成**する:

```
【ペルソナ1】35歳 女 介護福祉業 神奈川県
プロフィール: 「介護サービスの品質向上を推進する事業リーダーとして、利用者の生活の質向上に注力...」

質問: 「日々の業務で最もストレスを感じる瞬間は？」

[このペルソナになりきって考える]
→ 回答: 「利用者さんの急な体調変化で夜勤中に一人で対応しなければならない時。責任の重さと人手不足を同時に感じて、正直つらいです。」
```

```
【ペルソナ2】28歳 男 介護福祉業 大阪府
プロフィール: 「若手として現場経験を積みながら、将来は施設運営に携わりたいと考えている...」

質問: 「日々の業務で最もストレスを感じる瞬間は？」

[このペルソナになりきって考える]
→ 回答: 「先輩によって指導内容が違う時。どれが正解かわからず、利用者さんに申し訳なくなる。」
```

このように**全ペルソナ分、個別に回答を生成**する。時間がかかっても構わない。

5. **クラスタリング**: 生成した回答を5〜10テーマにグループ化、出現率算出

6. **レポート生成**: `templates/pain-point-report.md`を使用

---

## ワークフロー3: コンセプトテスト

### 手順

1. **コンセプト定義**: 名前、説明、機能、ターゲット用途を確認

2. **テスト設計**: サンプルサイズを決定（推奨: 30〜50人）

3. **ペルソナ抽出**: コンセプトに関連するフィールドを含めてJSON形式で取得

```bash
# 食品系コンセプトの場合
python scripts/fetch_personas.py \
  --token "ユーザーのHFトークン" \
  --sample 30 \
  --fields uuid,age,sex,occupation,prefecture,marital_status,culinary_persona,hobbies_and_interests_list \
  --output json --pretty
```

関連フィールドの選び方:
| コンセプト種類 | 推奨フィールド |
|---------------|---------------|
| 食品/料理系 | `culinary_persona`, `hobbies_and_interests_list`, `marital_status` |
| 健康/ウェルネス系 | `sports_persona`, `hobbies_and_interests_list`, `age` |
| 旅行系 | `travel_persona`, `region`, `marital_status` |
| 仕事/SaaS系 | `professional_persona`, `skills_and_expertise_list`, `career_goals_and_ambitions` |

4. **反応シミュレーション（Claude自身が実行）**

### 絶対に守ること

**禁止事項:**
- ❌ ルールベースのスコアリング（`if "子供あり" in marital_status: score += 0.8` のような処理）
- ❌ キーワードマッチングによる興味度の自動計算
- ❌ 属性に基づく一括スコア割り当て
- ❌ 効率化のためのバッチ処理

**必須事項:**
- ✅ 各ペルソナ1人ずつ、そのペルソナになりきって評価を生成
- ✅ プロフィール全体（culinary_persona等）を読み、人物像を理解してから評価
- ✅ 同じ属性でも、プロフィールの違いで異なる評価になりうる
- ✅ 「この人はなぜこう思うか」を考えながら評価

### 実行方法

各ペルソナに対して、以下のように**1人ずつ評価を生成**する:

```
【ペルソナ1】42歳 女 会社員 東京都
婚姻状況: 既婚 (子供あり)
culinary_persona: 「共働きで忙しい中、子供の栄養バランスを考えた食事を心がけている。週末はまとめて作り置きをするが、平日は時短が最優先...」

コンセプト: 【ヘルシー冷凍弁当「たっくん」】管理栄養士監修、1食500kcal以下の冷凍弁当宅配

[このペルソナになりきって考える]
→ 興味度: 4
→ 反応タイプ: 興味あり
→ 魅力: 「平日の夕食準備が本当に大変なので、栄養バランスが取れてるなら試したい。子供にも安心して出せそう」
→ 懸念: 「冷凍食品を子供に出すことへの罪悪感がある。価格次第かな」
→ 一言: 「まず自分のランチ用に試してみて、良ければ家族用も検討したい」
```

```
【ペルソナ2】35歳 男 料理人 京都府
婚姻状況: 未婚
culinary_persona: 「プロとして素材の味を活かした調理にこだわり、化学調味料は一切使わない。自宅でも手作りが基本...」

コンセプト: 【ヘルシー冷凍弁当「たっくん」】（同上）

[このペルソナになりきって考える]
→ 興味度: 1
→ 反応タイプ: 否定的
→ 魅力: 「特になし。コンセプトは理解できるが自分向きではない」
→ 懸念: 「冷凍で栄養も味も落ちる。プロとして自分で作った方が早いし美味しい」
→ 一言: 「忙しい人には良いかもしれないけど、僕は使わないですね」
```

このように**全ペルソナ分、個別に評価を生成**する。時間がかかっても構わない。

5. **セグメント分析**: 生成した評価を年齢層・性別・職業・地域別にクロス集計

6. **レポート生成**: `templates/concept-test-report.md`を使用

---

## 参照ドキュメント

| ファイル | 内容 |
|---------|------|
| `DATASET-REFERENCE.md` | 22フィールドの詳細、地域マッピング |
| `METHODOLOGY.md` | サンプルサイズ、質問設計、バイアス対策 |
| `templates/*.md` | レポート出力テンプレート |

---

## 注意事項

- これは**合成データ**によるシミュレーション結果です
- 実ユーザーリサーチの**代替ではなく補完**として使用
- 重要なインサイトは一次調査で検証してください
